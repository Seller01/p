<template>
    <vue-trix v-model="html"></vue-trix>
    <!-- <w-medium-editor v-model="html" :buttons="buttons"></w-medium-editor> -->
</template>

<script>
import loc from './header.i18n.json';
import Header from './Header';
import { i18n } from "../../../../utility/VueI18n";
const d = new Header();
export default {
    i18n: i18n(loc),
    props: {
        /**
         * object of type {
         *  text: ''
         * }
         */
        value: {
            type: Object,
            default() {
                return d.getEmptyData();
            }
        },
        config: {
            type: Object,
            default() {
                return d.getEmptyConfig();
            }
        }
    },
    data() {
        return {
            html: this.value.text,
            buttons: [
                'bold',
                'italic',
                'strikethrough',
                'subscript',
                'superscript',
                'anchor',
                'pre',
                'h1',
                'h2',
                'h3',
                'highlight',
            ],
        };
    },
    watch: {
        'value.text': {
            handler() {
                if (this.value.text !== this.html) {
                    this.html = this.value.text;
                }
            },
            deep: true
        },
        html() {
            if (this.value.text !== this.html) {
                this.$emit('input', {
                    text: this.html
                });
            }
        },
    }
}
</script>