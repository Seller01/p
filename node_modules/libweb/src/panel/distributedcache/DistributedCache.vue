<template>
    <b-card :title="$t('title')">
        <b-card-text>
            <label>{{$t('connectionString')}}</label>
            <b-form-input type="text" v-model="o.connectionString" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('dbms')}}</label>
            <b-form-input type="text" v-model="o.dbms" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('tableName')}}</label>
            <b-form-input type="text" v-model="o.tableName" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('sessionCookieName')}}</label>
            <b-form-input type="text" v-model="o.sessionCookieName" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('sessionIOTimeout')}}</label>
            <b-form-input type="text" v-model="o.sessionIOTimeout" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('sessionIdleTimeout')}}</label>
            <b-form-input type="text" v-model="o.sessionIdleTimeout" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('redisHost')}}</label>
            <b-form-input type="text" v-model="o.redisHost" readonly dir="ltr"></b-form-input>
            <label class="mt-4">{{$t('redisPort')}}</label>
            <b-form-input type="number" v-model="o.redisPort" readonly dir="ltr"></b-form-input>
        </b-card-text>
    </b-card>
</template>

<script>
import loc from './DistributedCache.i18n.json';
import { i18n } from "../../utility/VueI18n";
export default {
    i18n: i18n(loc),
    data() {
        return {
            o: {
                connectionString: '',
                dbms: '',
                tableName: '',
                sessionCookieName: '',
                sessionIOTimeout: '',
                sessionIdleTimeout: '',
                redisHost: '',
                redisPort: 0
            }
        };
    },
    async mounted() {
        try {
            var data = await this.$api.get('/api/distributedcache/DistributedCacheOptions/ViewOptions');
            this.o = Object.assign({}, this.o, data);
        } catch (ex) {
            console.error(ex);
        }
    },
    methods: {
        isFileSystem() {
            return this.o.redisHost === undefined || this.o.redisHost === null || this.o.redisHost.length === 0;
        }
    }
}
</script>