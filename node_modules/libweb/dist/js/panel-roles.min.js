/*! For license information please see panel-roles.min.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],t):"object"==typeof exports?exports.libweb=t(require("Vue")):e.libweb=t(e.Vue)}(window,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=614)}({0:function(e,t,r){e.exports=r(17)},1:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:c}}r.d(t,"a",(function(){return n}))},12:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(8),l=new(function(){function e(){i()(this,e)}return o()(e,[{key:"getCulture",value:function(){return(new s.a).getValues().culture}},{key:"getPrettyDateTimeFormat",value:function(e){return null==e&&(e=this.getCulture()),"fa"===e?"dddd jDD jMMMM jYYYY HH:mm":"dddd DD MMMM YYYY HH:mm"}},{key:"getPrettyDateFormat",value:function(e){return null==e&&(e=this.getCulture()),"fa"===e?"dddd jDD jMMMM jYYYY":"dddd DD MMMM YYYY"}},{key:"getSimpleDateTimeFormat",value:function(e){return null==e&&(e=this.getCulture()),"fa"===e?"jYYYY/jMM/jDD HH:mm:ss":"YYYY/MM/DD HH:mm:ss"}},{key:"getSimpleDateFormat",value:function(e){return null==e&&(e=this.getCulture()),"fa"===e?"jYYYY/jMM/jDD":"YYYY/MM/DD"}},{key:"formatUnixMs",value:function(e,t,r){null==r&&(r=this.getCulture());var n=this.getSimpleDateTimeFormat(r);return null!=t&&(n=t),moment(e).locale(r).format(n)}},{key:"formatTicks",value:function(e,t,r){return this.formatUnixMs(e/1e4,t,r)}}]),e}())},15:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return y}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=r(32),l=r.n(s);function c(e){return!!_.isNil(e)||0===e.length}function u(e){return _.isNil(e)||c(e)?"":e.trim()}function f(e,t){return _.isNil(e)||c(e)?"":e.startsWith(t)?e:"".concat(t).concat(e)}function p(e,t){var r,n=[];for(r in e)if(e.hasOwnProperty(r)){var i=t?t+"["+r+"]":r,a=e[r];n.push(null!==a&&"object"===l()(a)?p(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return n.join("&")}function h(e){if(_.isNil(e)||c(e))return{};var t='{"'.concat(decodeURIComponent(e).replace(/&/g,'","').replace(/=/g,'":"'),'"}');return JSON.parse(t,(function(e,t){return""===e?t:decodeURIComponent(t)}))}var d=function(){function e(){i()(this,e),this.protocol="",this.host="",this.hostname="",this.port="",this.pathname="",this.search="",this.query={},this.hash=""}return o()(e,[{key:"hasBaseUrl",value:function(){return void 0!==this.protocol&&null!==this.protocol&&this.protocol.length>0&&void 0!==this.host&&null!==this.host&&this.host.length>0}},{key:"getBaseUrl",value:function(){if(this.hasBaseUrl())return"".concat(this.protocol,"//").concat(this.host)}},{key:"serialize",value:function(e,t){var r,n=f(u(this.pathname),"/");r=f(t?u(this.search):p(this.query),"?");var i=f(u(this.hash),"#");return e?"".concat(n).concat(r).concat(i):"".concat(this.protocol,"//").concat(this.host).concat(n).concat(r).concat(i)}},{key:"toRelative",value:function(e){return this.serialize(!0,e)}},{key:"toAbsolute",value:function(e){return this.serialize(!1,e)}}]),e}(),m=r(43),v=r(8),g=new m.a,y=function(){function e(){i()(this,e)}return o()(e,[{key:"parseQueryString",value:function(e){return h(e)}},{key:"stringifyQueryString",value:function(e,t){return p(e,t)}},{key:"parse",value:function(e){var t,r,n,i,a=(t=e,(r=document.createElement("a")).href=t,""==r.host&&(r.href=r.href),r),o=new d;return o.protocol=u(a.protocol),o.host=u(a.host),o.hostname=u(a.hostname),o.port=u(a.port),o.pathname=u(a.pathname),o.search=u(a.search),o.query=h((n=o.search,i="?",_.isNil(n)||c(n)?"":n.startsWith(i)?n.substr(i.length):n)),o.hash=u(a.hash),o}},{key:"localizeUrl",value:function(e,t){null==t&&(t=(new v.a).getValues().culture);var r=this.parse(e),n=r.pathname;"/"!==n[0]&&(n="/".concat(n));for(var i=n,a=Object.keys(g.all()),o=0;o<a.length;o++){var s=a[o];if(n.startsWith("/".concat(s,"/"))||n==="/".concat(s)){i=n.substr(3);break}}"/"===i&&(i=""),n="/".concat(t).concat(i);var l=this.parse(n);return l.protocol=r.protocol,l.host=r.host,l.hostname=r.hostname,l.port=r.port,l.pathname=n,l.search=r.search,l.query=r.query,l.hash=r.hash,l}}]),e}()},17:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new M(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return $()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=b(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function h(){}var d={};d[i]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,i)&&(d=v);var g=h.prototype=f.prototype=Object.create(d);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=g.constructor=h,h.constructor=p,p.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new y(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(g),s(g,o,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},254:function(e){e.exports=JSON.parse('{"ar":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"fa":{"add-new-role":"ثبت نقش جدید","add-role":"نقش جدید","createDateTime":"تاریخ ثبت","delete":"حذف","description":"شرح","edit":"ویرایش","edit-role":"ویرایش نقش","edit-role-permissions":"ویرایش مجوزهای {0}","id":"شناسه","name":"نام","opr":"عملیات","permissions":"مجوزها","role-name-required":"نام نقش وارد نشده است","save":"ثبت تغییرات","title":"نقش ها","updateDateTime":"آخرین ویرایش"},"en":{"add-new-role":"Add new role","add-role":"New role","createDateTime":"Created On","delete":"Delete","description":"Description","edit":"Edit","edit-role":"Edit role","edit-role-permissions":"Edit permissions of {0}","id":"ID","name":"Name","opr":"Operations","permissions":"Permissions","role-name-required":"Role name is required","save":"Save changes","title":"Roles","updateDateTime":"Updated On"},"de":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"fr":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"es":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"tr":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"ru":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"ur":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""},"ps":{"add-new-role":"","add-role":"","createDateTime":"","delete":"","description":"","edit":"","edit-role":"","edit-role-permissions":"","id":"","name":"","opr":"","permissions":"","role-name-required":"","save":"","title":"","updateDateTime":""}}')},3:function(e,t){function r(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}},32:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},4:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},43:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=function(){function e(){i()(this,e),this.list={fa:"فارسی",en:"English",ar:"العربیه",de:"Deutsche",es:"Español",fr:"Français",ps:"پښتو",ru:"русский",tr:"Türk",ur:"اردو"}}return o()(e,[{key:"all",value:function(){return this.list}}]),e}()},5:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},6:function(t,r){t.exports=e},614:function(e,t,r){"use strict";r.r(t);var n=r(6),i=r.n(n),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{title:e.$t("title")}},[r("w-data-table-client",{directives:[{name:"show",rawName:"v-show",value:e.canViewRoles&&e.ready,expression:"canViewRoles && ready"}],attrs:{rows:e.roles,cols:e.roleCols},scopedSlots:e._u([{key:"id",fn:function(t){return r("span",{},[e._v(e._s(t.value))])}},{key:"name",fn:function(t){return r("span",{},[e._v(e._s(t.value))])}},{key:"createDateTime",fn:function(t){return r("span",{},[e._v(e._s(t.value))])}},{key:"updateDateTime",fn:function(t){return r("span",{},[e._v(e._s(t.value))])}},{key:"description",fn:function(t){return r("span",{},[e._v(e._s(e.$shorten(t.value,15)))])}},{key:"opr",fn:function(t){return r("span",{},[r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.canEditRole&&!e.isAdmin(t.row),expression:"canEditRole && !isAdmin(a.row)"}],staticClass:"mx-1 p-0",attrs:{variant:"info",size:"sm",title:e.$t("edit")},on:{click:function(r){return e.startEdit(t.row)}}},[r("w-mdi",{attrs:{value:"pencil",size:18}})],1),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.canEditRole&&!e.isAdmin(t.row),expression:"canEditRole && !isAdmin(a.row)"}],staticClass:"mx-1 p-0",attrs:{variant:"link",size:"sm",title:e.$t("permissions")},on:{click:function(r){return e.startEditPermissions(t.row)}}},[r("w-mdi",{attrs:{value:"key-change",size:18}})],1),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.canDeleteRole&&!e.isAdmin(t.row),expression:"canDeleteRole && !isAdmin(a.row)"}],staticClass:"mx-1 p-0",attrs:{variant:"danger",size:"sm",disabled:t.row.removing,title:e.$t("delete")},on:{click:function(r){return e.remove(t.row)}}},[r("w-mdi",{attrs:{value:"delete",size:18}})],1)],1)}}])},[r("div",{staticClass:"mx-1",attrs:{slot:"actions"},slot:"actions"},[r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.canAddRole,expression:"canAddRole"}],attrs:{variant:"success"},on:{click:e.startAddRole}},[e._v(e._s(e.$t("add-role")))])],1)]),e._v(" "),r("b-modal",{attrs:{title:e.editRoleModal.title,size:"lg","hide-footer":""},model:{value:e.editRoleModal.visible,callback:function(t){e.$set(e.editRoleModal,"visible",t)},expression:"editRoleModal.visible"}},[r("b-form-group",{attrs:{label:e.$t("name"),"label-for":"roles-role-name","invalid-feedback":e.invalidRoleName,state:e.roleNameState,"label-cols-md":"3","label-cols-lg":"2","label-align-md":"right"}},[r("b-form-input",{attrs:{trim:"",id:"roles-role-name"},model:{value:e.editRoleModal.model.name,callback:function(t){e.$set(e.editRoleModal.model,"name",t)},expression:"editRoleModal.model.name"}})],1),e._v(" "),r("b-button",{staticClass:"mt-3",attrs:{variant:"success",block:"",disabled:e.editRoleModal.saving||!e.roleNameState},on:{click:e.save}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),r("b-modal",{attrs:{title:e.permissionsModal.title,size:"lg","hide-footer":""},model:{value:e.permissionsModal.visible,callback:function(t){e.$set(e.permissionsModal,"visible",t)},expression:"permissionsModal.visible"}},[r("permissions",{model:{value:e.permissionsModal.permissions,callback:function(t){e.$set(e.permissionsModal,"permissions",t)},expression:"permissionsModal.permissions"}}),e._v(" "),r("b-button",{staticClass:"mt-3",attrs:{variant:"success",block:"",disabled:e.permissionsModal.saving},on:{click:e.saveRolePermissions}},[e._v(e._s(e.$t("save")))])],1)],1)};a._withStripped=!0;var o=r(0),s=r.n(o),l=r(3),c=r.n(l),u=r(254),f=r(7),p=r(98),h=r(12),d=r(15),m={components:{Permissions:p.a},i18n:Object(f.a)(u),data:function(){return{ready:!1,roles:[],roleCols:[{header:this.$t("id"),field:"id",visible:!1,sortable:!1},{header:this.$t("name"),field:"name"},{header:this.$t("createDateTime"),field:"createDateTime"},{header:this.$t("updateDateTime"),field:"updateDateTime"},{header:this.$t("description"),field:"description",sortable:!1},{header:this.$t("opr"),field:"opr",sortable:!1}],editRoleModal:{visible:!1,isNew:!1,title:"",saving:!1,model:{}},permissionsModal:{visible:!1,title:"",role:{},saving:!1,permissions:[]}}},mounted:function(){var e=this;return c()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadRoles();case 2:case"end":return t.stop()}}),t)})))()},methods:{convertRole:function(e){return e.createDateTime=h.a.formatTicks(e.createUtc),e.updateDateTime=h.a.formatTicks(e.updateUtc),e.removing=!1,e},emptyRole:function(){var e=1e4*moment().valueOf(),t={id:"",createUtc:e,updateUtc:e,description:"",name:""};return this.convertRole(t)},loadRoles:function(){var e=this;return c()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.roles.splice(0,e.roles.length),e.ready=!1,t.next=5,e.$api.get("/api/usermanager/Role/GetAll");case 5:t.sent.forEach((function(t){e.roles.push(e.convertRole(t))})),e.ready=!0,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e.toastError(t.t0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},startAddRole:function(){this.editRoleModal.model=Object.assign({},this.emptyRole()),this.editRoleModal.title=this.$t("add-new-role"),this.editRoleModal.isNew=!0,this.editRoleModal.visible=!0},startEdit:function(e){this.editRoleModal.model=Object.assign({},this.emptyRole(),e),this.editRoleModal.title=this.$t("edit-role"),this.editRoleModal.isNew=!1,this.editRoleModal.visible=!0},save:function(){var e=this;return c()(s.a.mark((function t(){var r,n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.editRoleModal.saving=!0,r=e.editRoleModal.model,!e.editRoleModal.isNew){t.next=10;break}return t.next=6,e.$api.post("/api/usermanager/Role/Add",{name:r.name,description:r.description});case 6:n=t.sent,e.roles.push(e.convertRole(n)),t.next=15;break;case 10:return t.next=12,e.$api.post("/api/usermanager/Role/Update",{id:r.id,name:r.name,description:r.description});case 12:n=t.sent,(i=e.roles.findIndex((function(e){return e.id===r.id})))>-1&&e.$set(e.roles,i,e.convertRole(n));case 15:e.toastSuccess(),e.editRoleModal.visible=!1,t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),e.toastError(t.t0),console.error(t.t0);case 23:return t.prev=23,e.editRoleModal.saving=!1,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[0,19,23,26]])})))()},remove:function(e){var t=this;return c()(s.a.mark((function r(){var n;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.toastAsk();case 2:if(!r.sent){r.next=19;break}return r.prev=3,e.removing=!0,r.next=7,t.$api.post("/api/usermanager/Role/Delete",{id:e.id});case 7:(n=t.roles.findIndex((function(t){return t.id===e.id})))>-1&&t.roles.splice(n,1),t.toastSuccess(),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),t.toastError(r.t0),console.error(r.t0);case 16:return r.prev=16,e.removing=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[3,12,16,19]])})))()},loadRolePermissions:function(e){var t=this;return c()(s.a.mark((function r(){var n,i,a,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=new d.b,(i=n.parse("/api/usermanager/Role/GetPermissions")).query.roleId=e.id,a=i.toRelative(),r.next=7,t.$api.get(a);case 7:return o=r.sent,r.abrupt("return",o);case 11:return r.prev=11,r.t0=r.catch(0),t.toastError(r.t0),console.error(r.t0),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[0,11]])})))()},startEditPermissions:function(e){var t=this;return c()(s.a.mark((function r(){var n;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadRolePermissions(e);case 2:if(null!=(n=r.sent)){r.next=5;break}return r.abrupt("return");case 5:t.permissionsModal.permissions.splice(0,t.permissionsModal.permissions.length),n.forEach((function(e){t.permissionsModal.permissions.push(e)})),t.permissionsModal.role=Object.assign({},e),t.permissionsModal.title=t.$t("edit-role-permissions",[e.name]),t.permissionsModal.visible=!0;case 10:case"end":return r.stop()}}),r)})))()},saveRolePermissions:function(){var e=this;return c()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.permissionsModal.saving=!0,t.next=4,e.$api.post("/api/usermanager/Role/UpdatePermissions",{roleId:e.permissionsModal.role.id,permissions:e.permissionsModal.permissions});case 4:e.toastSuccess(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.toastError(t.t0),console.error(t.t0);case 11:return t.prev=11,e.permissionsModal.saving=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})))()},isAdmin:function(e){return"admin"===e.name.toLowerCase()}},computed:{canViewRoles:function(){return this.$user.hasAccessAll(["usermanager_ViewRoles","usermanager_ViewPermissions"])},canAddRole:function(){return this.$user.hasAccess("usermanager_AddRole")},canEditRole:function(){return this.$user.hasAccess("usermanager_UpdateRole")},canDeleteRole:function(){return this.$user.hasAccess("usermanager_DeleteRole")},roleNameState:function(){var e=this.editRoleModal.model.name;return null!=e&&e.length>0},invalidRoleName:function(){return this.roleNameState?"":this.$t("role-name-required")}}},v=r(1),g=Object(v.a)(m,a,[],!1,null,null,null);g.options.__file="src/panel/roles/Roles.vue";var _=g.exports;i.a.component("panel-roles",_)},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return Z}));var n=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher","unit"];function i(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var a=Array.isArray;function o(e){return null!==e&&"object"==typeof e}function s(e){return"string"==typeof e}var l=Object.prototype.toString;function c(e){return"[object Object]"===l.call(e)}function u(e){return null==e}function f(e){return"function"==typeof e}function p(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=null,n=null;return 1===e.length?o(e[0])||a(e[0])?n=e[0]:"string"==typeof e[0]&&(r=e[0]):2===e.length&&("string"==typeof e[0]&&(r=e[0]),(o(e[1])||a(e[1]))&&(n=e[1])),{locale:r,params:n}}function h(e){return JSON.parse(JSON.stringify(e))}function d(e,t){return!!~e.indexOf(t)}var m=Object.prototype.hasOwnProperty;function v(e,t){return m.call(e,t)}function g(e){for(var t=arguments,r=Object(e),n=1;n<arguments.length;n++){var i=t[n];if(null!=i){var a=void 0;for(a in i)v(i,a)&&(o(i[a])?r[a]=g(r[a],i[a]):r[a]=i[a])}}return r}function _(e,t){if(e===t)return!0;var r=o(e),n=o(t);if(!r||!n)return!r&&!n&&String(e)===String(t);try{var i=a(e),s=a(t);if(i&&s)return e.length===t.length&&e.every((function(e,r){return _(e,t[r])}));if(i||s)return!1;var l=Object.keys(e),c=Object.keys(t);return l.length===c.length&&l.every((function(r){return _(e[r],t[r])}))}catch(e){return!1}}var y={beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n)if(e.i18n instanceof B){if(e.__i18n)try{var t={};e.__i18n.forEach((function(e){t=g(t,JSON.parse(e))})),Object.keys(t).forEach((function(r){e.i18n.mergeLocaleMessage(r,t[r])}))}catch(e){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(c(e.i18n)){var r=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof B?this.$root.$i18n:null;if(r&&(e.i18n.root=this.$root,e.i18n.formatter=r.formatter,e.i18n.fallbackLocale=r.fallbackLocale,e.i18n.formatFallbackMessages=r.formatFallbackMessages,e.i18n.silentTranslationWarn=r.silentTranslationWarn,e.i18n.silentFallbackWarn=r.silentFallbackWarn,e.i18n.pluralizationRules=r.pluralizationRules,e.i18n.preserveDirectiveContent=r.preserveDirectiveContent),e.__i18n)try{var n={};e.__i18n.forEach((function(e){n=g(n,JSON.parse(e))})),e.i18n.messages=n}catch(e){0}var i=e.i18n.sharedMessages;i&&c(i)&&(e.i18n.messages=g(e.i18n.messages,i)),this._i18n=new B(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),r&&r.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof B?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof B&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n?(e.i18n instanceof B||c(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof B||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof B)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}},b={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var r=t.data,n=t.parent,i=t.props,a=t.slots,o=n.$i18n;if(o){var s=i.path,l=i.locale,c=i.places,u=a(),f=o.i(s,l,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(u)||c?function(e,t){var r=t?function(e){0;return Array.isArray(e)?e.reduce(k,{}):Object.assign({},e)}(t):{};if(!e)return r;var n=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(M);0;return e.reduce(n?w:k,r)}(u.default,c):u),p=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return p?e(p,r,f):f}}};function w(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function k(e,t,r){return e[r]=t,e}function M(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var x,$={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var r=t.props,i=t.parent,a=t.data,l=i.$i18n;if(!l)return null;var c=null,u=null;s(r.format)?c=r.format:o(r.format)&&(r.format.key&&(c=r.format.key),u=Object.keys(r.format).reduce((function(e,t){var i;return d(n,t)?Object.assign({},e,((i={})[t]=r.format[t],i)):e}),null));var f=r.locale||l.locale,p=l._ntp(r.value,f,c,u),h=p.map((function(e,t){var r,n=a.scopedSlots&&a.scopedSlots[e.type];return n?n(((r={})[e.type]=e.value,r.index=t,r.parts=p,r)):e.value})),m=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return m?e(m,{attrs:a.attrs,class:a.class,staticClass:a.staticClass},h):h}};function T(e,t,r){R(e,r)&&C(e,t,r)}function F(e,t,r,n){if(R(e,r)){var i=r.context.$i18n;(function(e,t){var r=t.context;return e._locale===r.$i18n.locale})(e,r)&&_(t.value,t.oldValue)&&_(e._localeMessage,i.getLocaleMessage(i.locale))||C(e,t,r)}}function D(e,t,r,n){if(r.context){var a=r.context.$i18n||{};t.modifiers.preserve||a.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else i("Vue instance does not exists in VNode context")}function R(e,t){var r=t.context;return r?!!r.$i18n||(i("VueI18n instance does not exists in Vue instance"),!1):(i("Vue instance does not exists in VNode context"),!1)}function C(e,t,r){var n,a,o=function(e){var t,r,n,i;s(e)?t=e:c(e)&&(t=e.path,r=e.locale,n=e.args,i=e.choice);return{path:t,locale:r,args:n,choice:i}}(t.value),l=o.path,u=o.locale,f=o.args,p=o.choice;if(l||u||f)if(l){var h=r.context;e._vt=e.textContent=null!=p?(n=h.$i18n).tc.apply(n,[l,p].concat(L(u,f))):(a=h.$i18n).t.apply(a,[l].concat(L(u,f))),e._locale=h.$i18n.locale,e._localeMessage=h.$i18n.getLocaleMessage(h.$i18n.locale)}else i("`path` is required in v-t directive");else i("value type not supported")}function L(e,t){var r=[];return e&&r.push(e),t&&(Array.isArray(t)||c(t))&&r.push(t),r}function O(e){O.installed=!0;(x=e).version&&Number(x.version.split(".")[0]);(function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=this.$i18n;return n._t.apply(n,[e,n.locale,n._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];var i=this.$i18n;return i._tc.apply(i,[e,i.locale,i._getMessages(),this,t].concat(r))},e.prototype.$te=function(e,t){var r=this.$i18n;return r._te(e,r.locale,r._getMessages(),t)},e.prototype.$d=function(e){for(var t,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return(t=this.$i18n).d.apply(t,[e].concat(r))},e.prototype.$n=function(e){for(var t,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return(t=this.$i18n).n.apply(t,[e].concat(r))}})(x),x.mixin(y),x.directive("t",{bind:T,update:F,unbind:D}),x.component(b.name,b),x.component($.name,$),x.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var E=function(){this._caches=Object.create(null)};E.prototype.interpolate=function(e,t){if(!t)return[e];var r=this._caches[e];return r||(r=function(e){var t=[],r=0,n="";for(;r<e.length;){var i=e[r++];if("{"===i){n&&t.push({type:"text",value:n}),n="";var a="";for(i=e[r++];void 0!==i&&"}"!==i;)a+=i,i=e[r++];var o="}"===i,s=j.test(a)?"list":o&&N.test(a)?"named":"unknown";t.push({value:a,type:s})}else"%"===i?"{"!==e[r]&&(n+=i):n+=i}return n&&t.push({type:"text",value:n}),t}(e),this._caches[e]=r),function(e,t){var r=[],n=0,i=Array.isArray(t)?"list":o(t)?"named":"unknown";if("unknown"===i)return r;for(;n<e.length;){var a=e[n];switch(a.type){case"text":r.push(a.value);break;case"list":r.push(t[parseInt(a.value,10)]);break;case"named":"named"===i&&r.push(t[a.value]);break;case"unknown":0}n++}return r}(r,t)};var j=/^(?:\d)+/,N=/^(?:\w)+/;var S=[];S[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},S[1]={ws:[1],".":[2],"[":[4],eof:[7]},S[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},S[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},S[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},S[5]={"'":[4,0],eof:8,else:[5,0]},S[6]={'"':[4,0],eof:8,else:[6,0]};var I=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function P(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function A(e){var t,r,n,i=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(n=i,I.test(n)?(r=(t=i).charCodeAt(0))!==t.charCodeAt(t.length-1)||34!==r&&39!==r?t:t.slice(1,-1):"*"+i)}var W=function(){this._cache=Object.create(null)};W.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=function(e){var t,r,n,i,a,o,s,l=[],c=-1,u=0,f=0,p=[];function h(){var t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,n="\\"+t,p[0](),!0}for(p[1]=function(){void 0!==r&&(l.push(r),r=void 0)},p[0]=function(){void 0===r?r=n:r+=n},p[2]=function(){p[0](),f++},p[3]=function(){if(f>0)f--,u=4,p[0]();else{if(f=0,void 0===r)return!1;if(!1===(r=A(r)))return!1;p[1]()}};null!==u;)if(c++,"\\"!==(t=e[c])||!h()){if(i=P(t),8===(a=(s=S[u])[i]||s.else||8))return;if(u=a[0],(o=p[a[1]])&&(n=void 0===(n=a[2])?t:n,!1===o()))return;if(7===u)return l}}(e))&&(this._cache[e]=t),t||[]},W.prototype.getPathValue=function(e,t){if(!o(e))return null;var r=this.parsePath(t);if(0===r.length)return null;for(var n=r.length,i=e,a=0;a<n;){var s=i[r[a]];if(void 0===s)return null;i=s,a++}return i};var Y,H=/<\/?[\w\s="/.':;#-\/]+>/,V=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,U=/^@(?:\.([a-z]+))?:/,q=/[()]/g,z={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},G=new E,B=function(e){var t=this;void 0===e&&(e={}),!x&&"undefined"!=typeof window&&window.Vue&&O(window.Vue);var r=e.locale||"en-US",n=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),i=e.messages||{},a=e.dateTimeFormats||{},o=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||G,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new W,this._dataListeners=[],this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this.getChoiceIndex=function(e,r){var n=Object.getPrototypeOf(t);if(n&&n.getChoiceIndex)return n.getChoiceIndex.call(t,e,r);var i,a;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,r]):(i=e,a=r,i=Math.abs(i),2===a?i?i>1?1:0:1:i?Math.min(i,2):0)},this._exist=function(e,r){return!(!e||!r)&&(!u(t._path.getPathValue(e,r))||!!e[r])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,i[e])})),this._initVM({locale:r,fallbackLocale:n,messages:i,dateTimeFormats:a,numberFormats:o})},J={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};B.prototype._checkLocaleMessage=function(e,t,r){var n=function(e,t,r,o){if(c(r))Object.keys(r).forEach((function(i){var a=r[i];c(a)?(o.push(i),o.push("."),n(e,t,a,o),o.pop(),o.pop()):(o.push(i),n(e,t,a,o),o.pop())}));else if(a(r))r.forEach((function(r,i){c(r)?(o.push("["+i+"]"),o.push("."),n(e,t,r,o),o.pop(),o.pop()):(o.push("["+i+"]"),n(e,t,r,o),o.pop())}));else if(s(r)){if(H.test(r)){var l="Detected HTML in message '"+r+"' of keypath '"+o.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?i(l):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(l)}}};n(t,e,r,[])},B.prototype._initVM=function(e){var t=x.config.silent;x.config.silent=!0,this._vm=new x({data:e}),x.config.silent=t},B.prototype.destroyVM=function(){this._vm.$destroy()},B.prototype.subscribeDataChanging=function(e){this._dataListeners.push(e)},B.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)e.splice(r,1)}}(this._dataListeners,e)},B.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var t=e._dataListeners.length;t--;)x.nextTick((function(){e._dataListeners[t]&&e._dataListeners[t].$forceUpdate()}))}),{deep:!0})},B.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var e=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){e.$set(e,"locale",t),e.$forceUpdate()}),{immediate:!0})},B.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},J.vm.get=function(){return this._vm},J.messages.get=function(){return h(this._getMessages())},J.dateTimeFormats.get=function(){return h(this._getDateTimeFormats())},J.numberFormats.get=function(){return h(this._getNumberFormats())},J.availableLocales.get=function(){return Object.keys(this.messages).sort()},J.locale.get=function(){return this._vm.locale},J.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},J.fallbackLocale.get=function(){return this._vm.fallbackLocale},J.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},J.formatFallbackMessages.get=function(){return this._formatFallbackMessages},J.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},J.missing.get=function(){return this._missing},J.missing.set=function(e){this._missing=e},J.formatter.get=function(){return this._formatter},J.formatter.set=function(e){this._formatter=e},J.silentTranslationWarn.get=function(){return this._silentTranslationWarn},J.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},J.silentFallbackWarn.get=function(){return this._silentFallbackWarn},J.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},J.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},J.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},J.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},J.warnHtmlInMessage.set=function(e){var t=this,r=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,r!==e&&("warn"===e||"error"===e)){var n=this._getMessages();Object.keys(n).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,n[e])}))}},J.postTranslation.get=function(){return this._postTranslation},J.postTranslation.set=function(e){this._postTranslation=e},B.prototype._getMessages=function(){return this._vm.messages},B.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},B.prototype._getNumberFormats=function(){return this._vm.numberFormats},B.prototype._warnDefault=function(e,t,r,n,i,a){if(!u(r))return r;if(this._missing){var o=this._missing.apply(null,[e,t,n,i]);if(s(o))return o}else 0;if(this._formatFallbackMessages){var l=p.apply(void 0,i);return this._render(t,a,l.params,t)}return t},B.prototype._isFallbackRoot=function(e){return!e&&!u(this._root)&&this._fallbackRoot},B.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},B.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},B.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},B.prototype._interpolate=function(e,t,r,n,i,o,l){if(!t)return null;var p,h=this._path.getPathValue(t,r);if(a(h)||c(h))return h;if(u(h)){if(!c(t))return null;if(!s(p=t[r])&&!f(p))return null}else{if(!s(h)&&!f(h))return null;p=h}return s(p)&&(p.indexOf("@:")>=0||p.indexOf("@.")>=0)&&(p=this._link(e,t,p,n,"raw",o,l)),this._render(p,i,o,r)},B.prototype._link=function(e,t,r,n,i,o,s){var l=r,c=l.match(V);for(var u in c)if(c.hasOwnProperty(u)){var f=c[u],p=f.match(U),h=p[0],m=p[1],v=f.replace(h,"").replace(q,"");if(d(s,v))return l;s.push(v);var g=this._interpolate(e,t,v,n,"raw"===i?"string":i,"raw"===i?void 0:o,s);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var _=this._root.$i18n;g=_._translate(_._getMessages(),_.locale,_.fallbackLocale,v,n,i,o)}g=this._warnDefault(e,v,g,n,a(o)?o:[o],i),this._modifiers.hasOwnProperty(m)?g=this._modifiers[m](g):z.hasOwnProperty(m)&&(g=z[m](g)),s.pop(),l=g?l.replace(f,g):l}return l},B.prototype._createMessageContext=function(e){var t=a(e)?e:[],r=o(e)?e:{};return{list:function(e){return t[e]},named:function(e){return r[e]}}},B.prototype._render=function(e,t,r,n){if(f(e))return e(this._createMessageContext(r));var i=this._formatter.interpolate(e,r,n);return i||(i=G.interpolate(e,r,n)),"string"!==t||s(i)?i:i.join("")},B.prototype._appendItemToChain=function(e,t,r){var n=!1;return d(e,t)||(n=!0,t&&(n="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),r&&r[t]&&(n=r[t]))),n},B.prototype._appendLocaleToChain=function(e,t,r){var n,i=t.split("-");do{var a=i.join("-");n=this._appendItemToChain(e,a,r),i.splice(-1,1)}while(i.length&&!0===n);return n},B.prototype._appendBlockToChain=function(e,t,r){for(var n=!0,i=0;i<t.length&&"boolean"==typeof n;i++){var a=t[i];s(a)&&(n=this._appendLocaleToChain(e,a,r))}return n},B.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var r=this._localeChainCache[e];if(!r){t||(t=this.fallbackLocale),r=[];for(var n,i=[e];a(i);)i=this._appendBlockToChain(r,i,t);(i=s(n=a(t)?t:o(t)?t.default?t.default:null:t)?[n]:n)&&this._appendBlockToChain(r,i,null),this._localeChainCache[e]=r}return r},B.prototype._translate=function(e,t,r,n,i,a,o){for(var s,l=this._getLocaleChain(t,r),c=0;c<l.length;c++){var f=l[c];if(!u(s=this._interpolate(f,e[f],n,i,a,o,[n])))return s}return null},B.prototype._t=function(e,t,r,n){for(var i,a=[],o=arguments.length-4;o-- >0;)a[o]=arguments[o+4];if(!e)return"";var s=p.apply(void 0,a),l=s.locale||t,c=this._translate(r,l,this.fallbackLocale,e,n,"string",s.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[e].concat(a))}return c=this._warnDefault(l,e,c,n,a,"string"),this._postTranslation&&null!=c&&(c=this._postTranslation(c,e)),c},B.prototype.t=function(e){for(var t,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(r))},B.prototype._i=function(e,t,r,n,i){var a=this._translate(r,t,this.fallbackLocale,e,n,"raw",i);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,i)}return this._warnDefault(t,e,a,n,[i],"raw")},B.prototype.i=function(e,t,r){return e?(s(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,r)):""},B.prototype._tc=function(e,t,r,n,i){for(var a,o=[],s=arguments.length-5;s-- >0;)o[s]=arguments[s+5];if(!e)return"";void 0===i&&(i=1);var l={count:i,n:i},c=p.apply(void 0,o);return c.params=Object.assign(l,c.params),o=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((a=this)._t.apply(a,[e,t,r,n].concat(o)),i)},B.prototype.fetchChoice=function(e,t){if(!e&&!s(e))return null;var r=e.split("|");return r[t=this.getChoiceIndex(t,r.length)]?r[t].trim():e},B.prototype.tc=function(e,t){for(var r,n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return(r=this)._tc.apply(r,[e,this.locale,this._getMessages(),null,t].concat(n))},B.prototype._te=function(e,t,r){for(var n=[],i=arguments.length-3;i-- >0;)n[i]=arguments[i+3];var a=p.apply(void 0,n).locale||t;return this._exist(r[a],e)},B.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},B.prototype.getLocaleMessage=function(e){return h(this._vm.messages[e]||{})},B.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},B.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,g({},this._vm.messages[e]||{},t))},B.prototype.getDateTimeFormat=function(e){return h(this._vm.dateTimeFormats[e]||{})},B.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},B.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,g(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},B.prototype._clearDateTimeFormat=function(e,t){for(var r in t){var n=e+"__"+r;this._dateTimeFormatters.hasOwnProperty(n)&&delete this._dateTimeFormatters[n]}},B.prototype._localizeDateTime=function(e,t,r,n,i){for(var a=t,o=n[a],s=this._getLocaleChain(t,r),l=0;l<s.length;l++){var c=s[l];if(a=c,!u(o=n[c])&&!u(o[i]))break}if(u(o)||u(o[i]))return null;var f=o[i],p=a+"__"+i,h=this._dateTimeFormatters[p];return h||(h=this._dateTimeFormatters[p]=new Intl.DateTimeFormat(a,f)),h.format(e)},B.prototype._d=function(e,t,r){if(!r)return new Intl.DateTimeFormat(t).format(e);var n=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),r);if(this._isFallbackRoot(n)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,r,t)}return n||""},B.prototype.d=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=this.locale,i=null;return 1===t.length?s(t[0])?i=t[0]:o(t[0])&&(t[0].locale&&(n=t[0].locale),t[0].key&&(i=t[0].key)):2===t.length&&(s(t[0])&&(i=t[0]),s(t[1])&&(n=t[1])),this._d(e,n,i)},B.prototype.getNumberFormat=function(e){return h(this._vm.numberFormats[e]||{})},B.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},B.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,g(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},B.prototype._clearNumberFormat=function(e,t){for(var r in t){var n=e+"__"+r;this._numberFormatters.hasOwnProperty(n)&&delete this._numberFormatters[n]}},B.prototype._getNumberFormatter=function(e,t,r,n,i,a){for(var o=t,s=n[o],l=this._getLocaleChain(t,r),c=0;c<l.length;c++){var f=l[c];if(o=f,!u(s=n[f])&&!u(s[i]))break}if(u(s)||u(s[i]))return null;var p,h=s[i];if(a)p=new Intl.NumberFormat(o,Object.assign({},h,a));else{var d=o+"__"+i;(p=this._numberFormatters[d])||(p=this._numberFormatters[d]=new Intl.NumberFormat(o,h))}return p},B.prototype._n=function(e,t,r,n){if(!B.availabilities.numberFormat)return"";if(!r)return(n?new Intl.NumberFormat(t,n):new Intl.NumberFormat(t)).format(e);var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),r,n),a=i&&i.format(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:r,locale:t},n))}return a||""},B.prototype.n=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=this.locale,a=null,l=null;return 1===t.length?s(t[0])?a=t[0]:o(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(a=t[0].key),l=Object.keys(t[0]).reduce((function(e,r){var i;return d(n,r)?Object.assign({},e,((i={})[r]=t[0][r],i)):e}),null)):2===t.length&&(s(t[0])&&(a=t[0]),s(t[1])&&(i=t[1])),this._n(e,i,a,l)},B.prototype._ntp=function(e,t,r,n){if(!B.availabilities.numberFormat)return[];if(!r)return(n?new Intl.NumberFormat(t,n):new Intl.NumberFormat(t)).formatToParts(e);var i=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),r,n),a=i&&i.formatToParts(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,r,n)}return a||[]},Object.defineProperties(B.prototype,J),Object.defineProperty(B,"availabilities",{get:function(){if(!Y){var e="undefined"!=typeof Intl;Y={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return Y}}),B.install=O,B.version="8.21.0";var X=B,Q=r(8);function Z(e){var t=(new Q.a).getValues();return new X({locale:t.culture,fallbackLocale:t["fallback-culture"],messages:e})}},8:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(4),i=r.n(n),a=r(5),o=r.n(a),s=document.getElementsByClassName("libw-raw-value"),l=document.getElementsByClassName("libw-json-value"),c=document.getElementsByClassName("libw-result-temp-value"),u={rtmp:null,values:null},f=function(){function e(){i()(this,e)}return o()(e,[{key:"getResultTempValues",value:function(){if(!_.isEmpty(u.rtmp))return u.rtmp;var e={};return Array.from(c).forEach((function(t){try{var r=t.getAttribute("name");e[r]=JSON.parse(t.innerHTML)}catch(e){console.log("name: ".concat(name," - value: ").concat(t.innerHTML)),console.warn(e)}})),u.rtmp=e,e}},{key:"getValues",value:function(){if(!_.isEmpty(u.values))return u.values;var e={};return Array.from(s).forEach((function(t){try{var r=t.getAttribute("name");e[r]=t.innerHTML}catch(e){console.log("name: ".concat(name," - value: ").concat(t.innerHTML)),console.warn(e)}})),Array.from(l).forEach((function(t){try{var r=t.getAttribute("name");e[r]=JSON.parse(t.innerHTML)}catch(e){console.log("name: ".concat(name," - value: ").concat(t.innerHTML)),console.warn(e)}})),u.values=e,e}}]),e}()},96:function(e){e.exports=JSON.parse('{"ar":{"select-all":"","unselect-all":""},"fa":{"select-all":"انتخاب همه","unselect-all":"حذف همه"},"en":{"select-all":"Select All","unselect-all":"Unselect All"},"de":{"select-all":"","unselect-all":""},"fr":{"select-all":"","unselect-all":""},"es":{"select-all":"","unselect-all":""},"tr":{"select-all":"","unselect-all":""},"ru":{"select-all":"","unselect-all":""},"ur":{"select-all":"","unselect-all":""},"ps":{"select-all":"","unselect-all":""}}')},98:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-button",{attrs:{variant:"success",size:"sm"},on:{click:e.selectAll}},[e._v(e._s(e.$t("select-all")))]),e._v(" "),r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:e.unselectAll}},[e._v(e._s(e.$t("unselect-all")))]),e._v(" "),r("hr"),e._v(" "),e._l(e.permissionGroups,(function(t){return[t.permissions.length>0?r("div",{key:t.moduleName},[r("b-form-group",{attrs:{label:t.moduleName}},[r("b-form-checkbox-group",{attrs:{options:t.permissions,stacked:"",switches:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),r("hr")],1):e._e()]}))],2)};n._withStripped=!0;var i=r(0),a=r.n(i),o=r(3),s=r.n(o),l=r(96),c=r(7),u={i18n:Object(c.a)(l),props:{value:{default:function(){return[]}}},data:function(){return{loadedPermissions:!1,permissionGroups:[],selected:[]}},mounted:function(){var e=this;return s()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadPermissions();case 2:e.loadedPermissions&&e.valueChanged();case 3:case"end":return t.stop()}}),t)})))()},methods:{loadPermissions:function(){var e=this;return s()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.permissionGroups.splice(0,e.permissionGroups.length),e.loadedPermissions=!1,t.next=5,e.$api.get("/api/usermanager/Permission/GetAll");case 5:t.sent.forEach((function(t){e.permissionGroups.push({moduleName:t.moduleName,permissions:t.permissions})})),e.loadedPermissions=!0,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e.toastError(t.t0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},valueChanged:function(){var e=this;this.selected.splice(0,this.selected.length),this.value.forEach((function(t){e.selected.push(t)}))},selectAll:function(){var e=[];this.permissionGroups.forEach((function(t){t.permissions.forEach((function(t){e.push(t.value)}))})),this.$emit("input",e)},unselectAll:function(){this.$emit("input",[])}},watch:{value:{handler:function(){_.isEqual(this.selected,this.value)||this.valueChanged()},deep:!0},selected:{handler:function(){_.isEqual(this.selected,this.value)||this.$emit("input",this.selected)},deep:!0}}},f=r(1),p=Object(f.a)(u,n,[],!1,null,null,null);p.options.__file="src/panel/roles/Permissions.vue";t.a=p.exports}})}));